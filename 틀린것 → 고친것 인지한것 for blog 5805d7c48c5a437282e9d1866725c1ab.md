# 틀린것 → 고친것 || 인지한것 for blog

```java
//upsert(있으면 업데이트, 없으면 Insert)

publicUserModel updateOrInsert(String id) {
        UserModel userModel =newUserModel();
        jdbcTemplate.update("INSERT INTO member (`id` , `count`)\n" + "VALUES (id, 1 ) ON DUPLICATE KEY UPDATE `count`=  `count`+1;");
returnuserModel;
    }
}
```

만든것 까지 ㅇㅋ 

![CleanShot 2023-01-02 at 23.44.05@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-02_at_23.44.052x.png)

하지만 값은 안들어감

![CleanShot 2023-01-02 at 23.46.00@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-02_at_23.46.002x.png)

![CleanShot 2023-01-04 at 03.43.54@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-04_at_03.43.542x.png)

![CleanShot 2023-01-04 at 03.43.36@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-04_at_03.43.362x.png)

신텍스 에러 발생

id값은 들어감 하지만 에러 500

---

## 해결

다른 프로젝트 파일 열어서  프린트 시켜봄. 결국에는 파라메터 값이 안들어갔었는데 “  “ 안에 ‘” + id +  “‘ 넣어주면 되는거였음

```java
public UserModel updateOrInsert(String id) {
        UserModel userModel = new UserModel();
        jdbcTemplate.update("INSERT INTO member (`id` , `count`)\n" + "VALUES ('"+id+"', 1 ) ON DUPLICATE KEY UPDATE `count`=  `count`+1;");
        return userModel;

```

쿼리에 널값이 들어갔을경우에 문제

[https://momobob.tistory.com/16](https://momobob.tistory.com/16)

****IncorrectResultSetColumnCountException: Incorrect column count: expected 1, actual 8****

![CleanShot 2023-01-17 at 12.12.43@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-17_at_12.12.432x.png)

![CleanShot 2023-01-17 at 17.47.13@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-17_at_17.47.132x.png)

![CleanShot 2023-01-17 at 17.47.32@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-17_at_17.47.322x.png)

값이 안들어간다

![CleanShot 2023-01-17 at 20.39.34@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-17_at_20.39.342x.png)

![CleanShot 2023-01-17 at 20.42.25@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-17_at_20.42.252x.png)

![CleanShot 2023-01-17 at 20.40.43@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-17_at_20.40.432x.png)

![CleanShot 2023-01-17 at 20.43.17@2x.png](%E1%84%90%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E2%86%92%20%E1%84%80%E1%85%A9%E1%84%8E%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A1%E1%86%AB%E1%84%80%E1%85%A5%E1%86%BA%20for%20blog%205805d7c48c5a437282e9d1866725c1ab/CleanShot_2023-01-17_at_20.43.172x.png)

```java
importjava.util.Scanner;

public classOverAverage {
public static voidmain(String[] args) {
        Scanner scanner =newScanner(System.in);
inttestCase = scanner.nextInt();
intaverage = 0;
inttotalScore = 0;
doublewhoOverScore = 0;
doubleanswer = 0;

for(inti = 0; i < testCase; i++) {
intstudents = scanner.nextInt();
intscore[] =new int[students];

for(intj = 0; j < students; j++) {
                score[j] = scanner.nextInt();
                totalScore += score[j];
            }

            average = (totalScore / students);

for(intj = 0; j < students; j++) {
if(score[j] > average) {
                    whoOverScore++;
                }
            }
            answer = (whoOverScore / students) * 100;
            System.out.printf("%.3f%%\n", answer);
        }
    }
}

40.000%
28.571%
66.667%
66.667%

22.222%
```

처음만 잘나온 이유는 변수들이 리셋 되지 않고 for문 밖에 있어서 그럼

```java
import java.util.Scanner;

public class OverAverage {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int testCase = scanner.nextInt();

        for (int i = 0; i < testCase; i++) {
             int students = scanner.nextInt();
            int score[] = new int[students];
            int average = 0;
            int totalScore = 0;
            double whoOverScore = 0;
            double answer = 0;

            for (int j = 0; j < students; j++) {
                score[j] = scanner.nextInt();
                totalScore += score[j];
            }

            average = (totalScore / students);

            for (int j = 0; j < students; j++) {
                if (score[j] > average) {
                    whoOverScore++;
                }
            }
            answer = (whoOverScore / students) * 100;
            System.out.printf("%.3f%%\n", answer);
        }
    }
}
40.000%
57.143%
33.333%
66.667%

55.556%
```